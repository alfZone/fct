<!DOCTYPE html>
<html lang="pt">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Distribuição de Alunos - Escola Esmonserrate</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

<style>
body { font-family: 'Roboto', sans-serif; background:#f5f7fa; margin:0; text-align:center; }
header, footer { background:#004080; color:#fff; padding:15px 0; }
header img { height:60px; margin-bottom:10px; }
main { max-width:900px; margin:30px auto; padding:20px; background:#fff; border-radius:10px; 
       box-shadow:0 4px 10px rgba(0,0,0,0.1);}
h1 { text-align:center; color:#004080; margin-bottom:20px; }
table { width:100%; border-collapse:collapse; margin-bottom:20px; }
th, td { border:1px solid #ddd; padding:10px; text-align:center; }
th { background-color:#004080; color:#fff; }

/* Caixas pequenas */
.small-check {
    width:16px;
    height:16px;
    transform:scale(1.2);
    cursor:pointer;
}
</style>
</head>

<body>

<header>
<img src="../templates/base/imagens/esm_174.png" alt="Logo Escola Esmonserrate">
<p>Professora: Maria Silva</p>
<p>Bem-vindo(a)!</p>
</header>

<main>
<h1>Distribuição de Alunos</h1>

<table class="table table-striped">
<thead>
    <tr>
        <th>Aluno</th>
        <th>Empresa</th>
    </tr>
</thead>

<tbody id="tabelaDistribuicao">

<!-- A tabela já aparece mesmo sem dados -->
<tr>
    <td>
           <select class="form-select mt-3">
                <option>Aluno 1</option>
                <option>Aluno 2</option>
                <option>Aluno 3</option>
                <option>Aluno 4</option>
            </select>

    </td>
    <td>
        <select class="form-select mt-3">
                <option>Empresa 1</option>
                <option>Empresa 2</option>
                <option>Empresa 3</option>
                <option>Empresa 4</option>
        </select>
    </td>
    <thead>
         <td>
           <select class="form-select mt-3">
                <option>Aluno 1</option>
                <option>Aluno 2</option>
                <option>Aluno 3</option>
                <option>Aluno 4</option>
            </select>

    </td>
    <td>
        <select class="form-select mt-3">
                <option>Empresa 1</option>
                <option>Empresa 2</option>
                <option>Empresa 3</option>
                <option>Empresa 4</option>
        </select>
    </td>
    </thead>
     
</tr>

</tbody>
</table>

</main>

<footer>
&copy; 2025 Escola Esmonserrate. Todos os direitos reservados.
</footer>

<script>
const API_DISTRIBUICAO = "endpointDistribuicao.php";

async function carregarDistribuicao() {
    try {
        const res = await fetch(API_DISTRIBUICAO);
        const dados = await res.json();

        const tbody = document.getElementById("tabelaDistribuicao");
        tbody.innerHTML = "";

        // Se o endpoint não tem dados, continua a mostrar a estrutura da tabela
        if (!dados || dados.length === 0) {
            tbody.innerHTML = `
                <tr>
                    <td><input type="checkbox" class="small-check"></td>
                    <td>Sem alunos</td>
                    <td><input type="checkbox" class="small-check"></td>
                    <td>Sem empresas</td>
                </tr>
            `;
            return;
        }

        // Preenche com os dados reais
        dados.forEach((item, index) => {
            const tr = document.createElement("tr");

            tr.innerHTML = `
                <td><input type="checkbox" class="small-check" name="aluno_${index}"></td>
                <td>${item.NomeAluno}</td>
                <td><input type="checkbox" class="small-check" name="empresa_${index}"></td>
                <td>${item.NomeEmpresa}</td>
            `;

            tbody.appendChild(tr);
        });

    } catch (err) {
        console.error("Erro ao carregar:", err);
    }
}

carregarDistribuicao();
</script>

</body>
</html>






